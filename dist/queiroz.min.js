
/*!
 * Queiroz.js 3.8.58
 * JavaScript Extension for Dimep Kairos
 * https://github.com/viniciusknob/queiroz.js
 */

!function(e){var t={name:"Queiroz.js",version:"3.8.58",description:"Queiroz.js 3.8.58",module:{}};e.Queiroz=t}(window),Array.prototype.last=function(){return this[this.length-1]},Array.prototype.contains=function(e){return this.indexOf(e)>-1},Array.prototype.isEmpty=function(){return 0==!!this.length},Date.now=function(){return new Date},Date.parseKairos=function(e){var t=e.split(" "),n=t[0].split("_"),i=t[1].split(":");return new Date(n[2],n[1]-1,n[0],i[0],i[1])},Date.isLeapYear=function(e){return e%4==0&&e%100!=0||e%400==0},Date.getDaysInMonth=function(e,t){return[31,Date.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},Date.prototype.isLeapYear=function(){return Date.isLeapYear(this.getFullYear())},Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())},Date.prototype.addMonths=function(e){var t=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+e),this.setDate(Math.min(t,this.getDaysInMonth())),this},Date.prototype.isToday=function(){var e=Date.now();return this.getDayOfMonth()===e.getDayOfMonth()&&this.getMonth()===e.getMonth()&&this.getFullYear()===e.getFullYear()},Date.prototype.getPrevFixedMonth=function(){let e=this.getFixedMonth();return 1==e?12:e-1},Date.prototype.getFixedMonth=function(){return this.getMonth()+1},Date.prototype.getDateAsKairos=function(){return this.getDate().padStart(2)+"_"+this.getFixedMonth().padStart(2)+"_"+this.getFullYear()},Date.prototype.getTimeAsString=function(){return this.getHours().padStart(2)+":"+this.getMinutes().padStart(2)},Date.prototype.getDayOfMonth=function(){return this.getDate()},Date.prototype.getMillis=function(){return this.getTime()},Date.prototype.toDDmmYYYY=function(e){return[this.getDayOfMonth().padStart(2),this.getFixedMonth().padStart(2),this.getFullYear()].join(e)},Date.prototype.isCurrentWeek=function(e){let t=Date.now()-this;if(parseInt(t/1e3/60/60/24)>7)return!1;let n=Date.now().getDay(),i=this.getDay();return e<=i&&i<=n},Storage.prototype.hasItem=function(e){return!!this.getItem(e)},Number.prototype.padStart=function(e){for(var t=""+this;t.length<e;)t="0"+t;return t},Element.prototype.remove=function(){this.parentElement.removeChild(this)},Element.prototype.data=function(e,t){return t?this.setAttribute(e,t):this.getAttribute(e)},String.prototype.contains=function(e){return this.indexOf(e)>-1},String.prototype.capitalize=function(){return this?this.charAt(0).toUpperCase()+this.slice(1):this},String.is=function(e){return"string"==typeof e},function(e,t){var n,i,o,a,r=(n="settings",i=JSON.parse('{"_static_":{"userscriptDelay":1000,"maxConsecutiveMinutes":360,"maxDailyMinutes":600,"dailyGoalMinutes":{"0":0,"1":480,"2":480,"3":480,"4":480,"5":480,"6":0},"initialWeekday":1,"gaTrackingId":"UA-105390656-1","qzKeepalive":60000,"ksKeepalive":1200000,"noticeRangeMinutes":[15,5,3,1],"notice_icon":"https://github.com/viniciusknob/queiroz.js/raw/master/src/img/ic_notification.png"},"_mutable_":{"hideLastWeekDays":true}}'),o="hideLastWeekDays",a={},e.hasItem(n)&&(a=JSON.parse(e.getItem(n))),{USERSCRIPT_DELAY:i._static_.userscriptDelay,MAX_CONSECUTIVE_MINUTES:i._static_.maxConsecutiveMinutes,MAX_DAILY_MINUTES:i._static_.maxDailyMinutes,DAILY_GOAL_MINUTES:i._static_.dailyGoalMinutes,INITIAL_WEEKDAY:i._static_.initialWeekday,GA_TRACKING_ID:i._static_.gaTrackingId,QZ_KEEPALIVE:i._static_.qzKeepalive,KS_KEEPALIVE:i._static_.ksKeepalive,NOTICE_RANGE_MINUTES:i._static_.noticeRangeMinutes,NOTICE_ICON:i._static_.notice_icon,hideLastWeekDays:function(t){return"boolean"==typeof t?(a[o]=t,void e.setItem(n,JSON.stringify(a))):"boolean"==typeof a[o]?a[o]:i._mutable_.hideLastWeekDays},isWorkDay:function(e){var t=e.getDay();return i._static_.dailyGoalMinutes[t]>0}});t.module.settings=r}(localStorage,window.Queiroz),function(e,t){t("create",e.module.settings.GA_TRACKING_ID,"auto","qzTkr"),t("qzTkr.set",{appName:e.name,appVersion:e.version}),t("qzTkr.send","screenview",{screenName:document.querySelector(".PageTitle").textContent})}(window.Queiroz,window.ga),function(e,t){var n={reload:function(){e.location.reload(!0)},loadAppointments:function(t=0){return e.dtoPessoaApontamentos.Week=t,fetch(function(){let t=e.location.pathname;return/Ponto/.test(t)?"/Dimep/Ponto/BuscarApontamentos":"/Dimep/PedidosJustificativas/BuscarPedidosApontamento"}(),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(e.dtoPessoaApontamentos)}).then(e=>e.text()).then(e=>(new DOMParser).parseFromString(e,"text/html"))}};t.module.kairos=n}(window,window.Queiroz),function(e,t,n,i,o){var a,r,l,d,s=o.module,c=s.settings,u=s.kairos,p=(a=!1,r=!1,l=function(){a&&i(a),r&&t(r),a=!1,r=!1},{init:d=function(){a&&r||(l(),c.QZ_KEEPALIVE&&(a=n(o.reload,c.QZ_KEEPALIVE)),c.KS_KEEPALIVE&&(r=e(u.reload,c.KS_KEEPALIVE)))},notify:function(e,t){t.isActive?l():d()}});o.module.keepalive=p}(setTimeout,clearTimeout,setInterval,clearInterval,window.Queiroz),function(e){var t=function(e){return t._[e]};t._=JSON.parse('{"pending":"Pendente","extra":"Extra","balance":"Saldo do dia","totalBalance":"Saldo Total","labor":"Efetuado","loadingMonth":"Carregando...","shift":"_n_&ordm; Turno","working":"Trabalhando...","exit":"Atinge _s_","exit+":"Meta + Saldo","config":"Config","weeklyGoal":"Meta Semanal","dailyGoal":"Meta do dia","timeOn":"Falta Abonada","mockTime":"Mock Time","notice":"Notificações","noticeMaxConsecutive":"Em _min_min você atingirá 6h de trabalho sem intervalo","noticeDailyGoal":"Em _min_min você completará a Meta Diária","noticeBalancedLeave":"Em _min_min seu saldo total de horas será zerado","noticeMaxDaily":"Em _min_min você atingirá 10h, o máximo permitido por dia","noticeWeeklyGoal":"Em _min_min você completará a Meta Semanal","menuIcon":"&#9776;","menuItemHideLastWeekDays":"Ocultar dias da semana anterior","menuItemSupport":"Apoie este projeto","menuItemAbout":"Sobre"}'),e.module.strings=t}(window.Queiroz),function(e){var t={CSS:"html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,footer,header,nav,section{display:block}h1{font-size:2em;margin:.67em 0}figcaption,figure,main{display:block}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent;-webkit-text-decoration-skip:objects}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}dfn{font-style:italic}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}audio,video{display:inline-block}audio:not([controls]){display:none;height:0}img{border-style:none}svg:not(:root){overflow:hidden}button,input,optgroup,select,textarea{font-family:sans-serif;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{display:inline-block;vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details,menu{display:block}summary{display:list-item}canvas{display:inline-block}template{display:none}[hidden]{display:none}*{border-radius:.2rem!important}#filterContent form{display:inline-block}#filterContent>div:first-child>div:first-child{display:inline-block}#SemanaApontamentos{cursor:default!important}.ContentTable{margin-top:inherit}.FilledSlot,.LastSlot,.emptySlot{height:inherit;padding:5px}.FilledSlot span{margin:inherit!important}.qz-text-center{text-align:center}.qz-text-left{text-align:left}.qz-text-bold{font-weight:700!important}.qz-text-primary{color:brown}.qz-text-golden{color:#b8860b}.qz-text-green{color:green}.qz-text-teal{color:teal}.qz-text-black{color:#000}.qz-text-purple{color:#639}.qz-text-orange{color:#e27300}.qz-text-grey{color:grey}.qz-text-line-through{text-decoration:line-through}.qz-cursor-pointer{cursor:pointer}.qz-box{padding:5px 10px 4px;margin:2px 2px;border:#a9a9a9 1px solid;min-width:60px}.qz-box-compact{min-width:auto}.qz-box-inline{display:inline-block}.qz-box-period{display:inline-block;vertical-align:top;margin-top:-2px}.qz-box-period>.qz-box{min-width:100px}.qz-box-head{float:right}.qz-box-icon{min-width:auto;font-size:25px;border:initial}.qz-box-muted{background-color:#d3d3d3}.qz-box .qz-box-content{vertical-align:middle}.qz-box-with-fa-se{margin:0 0 0 5px}.qz-help-text{font-size:10px}.qz-input-time{height:13px;width:45px;text-align:center;padding:2px;margin:5px 0}.qz-input-error{border-color:red}.qz-fa{-moz-user-select:-moz-none;-khtml-user-select:none;-webkit-user-select:none;user-select:none}.qz-fa-se{float:right;margin:-10px -8px 0 0}.qz-fa-sw{float:left;margin:-10px 0 0 -8px}.qz-fa-se2{float:right;margin:0 -8px 0 0}.qz-fa-sw2{float:left;margin:0 0 0 -8px}.qz-fa-se3{float:right;margin:5px -8px 0 0}.qz-toggle{margin-top:10px}.fa-toggle-on{color:green}.fa-toggle-off{color:grey}.js-show{display:block}.js-hide{display:none}.qz-dropdown{position:relative}.qz-dropdown-content{display:none;position:absolute;background-color:#f9f9f9;border:#a9a9a9 1px solid;box-shadow:0 4px 8px 0 rgba(0,0,0,.2);padding:2px;z-index:1024}.qz-dropdown:hover .qz-dropdown-content{display:block}.qz-dropdown-content p{font-weight:400;padding:5px;font-size:11px}.qz-dropdown-content p:hover{background-color:khaki}.qz-menu{min-width:200px;left:-160px}.qz-menu-item-icon{margin-right:4px;vertical-align:text-top}.qz-menu-item-icon-rg{float:right;margin:-1px}.qz-menu-item-anchor{color:inherit;cursor:inherit}.qz-column-menu{margin-right:10px;vertical-align:text-bottom;display:inline}.qz-modal{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1024;background-color:rgba(0,0,0,.5)}.qz-modal-dialog{position:relative;top:50%;left:50%;transform:translate(-50%,-50%);width:800px}.qz-modal-content{position:relative;background-color:#fff;background-clip:padding-box;border-radius:5px}.qz-modal-header{padding:10px;border-bottom:1px solid #d3d3d3;font-weight:700;font-size:16px}.qz-modal-close{float:right;cursor:pointer;background:0 0;border:0;padding:0;color:silver}.qz-modal-body{padding:10px;height:600px;max-height:100%;overflow:auto}.qz-modal-footer{padding:10px;border-top:1px solid #d3d3d3;text-align:center}table{border-collapse:collapse}.qz-table{width:100%;margin-bottom:1rem;color:#212529}.qz-table td,.qz-table th{padding:.3rem;vertical-align:top;border-top:1px solid #dee2e6}.qz-table thead th{vertical-align:bottom;border-bottom:2px solid #dee2e6}.qz-table tbody+tbody{border-top:2px solid #dee2e6}.qz-table tbody tr:hover{color:#212529;background-color:rgba(0,0,0,.075)}"};window.Queiroz.module.style=t}(),function(e){var t,n,i,o={zero:"00:00",diff:function(e,t){return e instanceof Date&&t instanceof Date?t.getMillis()-e.getMillis():t-e},before:function(e,t){return e instanceof Date&&t instanceof Date?t.getMillis()>e.getMillis():t>e},hourToMillis:t=function(e){return 36e5*e},minuteToMillis:n=function(e){return 6e4*e},millisToMinute:function(e){return parseInt(e/6e4)},millisToHuman:i=function(e){var t=parseInt(e/36e5),n=parseInt(e/6e4%60);return t.padStart(2)+":"+n.padStart(2)},millisToHumanWithSign:function(e){return 0==e?"00:00":e>0?"+"+i(e):e<0?"-"+i(-1*e):void 0},humanToMillis:function(e){var i=e.split(":"),o=parseInt(i[0]),a=parseInt(i[1]);return t(o)+n(a)}};e.module.time=o}(window.Queiroz),function(e,t){var n,i,o,a,r,l=t.module,d=l.settings,s=l.time,c=(n="dailyGoalMinutes",i={},o=[],a=function(e){var t=i[e];return 0==!!t&&(t=d.DAILY_GOAL_MINUTES[e]),t},r=function(e){o.forEach(function(t){t.notify(c,{isActive:e})})},e.hasItem(n)&&(i=JSON.parse(e.getItem(n))),{add:function(t,o){var a=s.humanToMillis(o);if(0==!!a)return!1;var r=function(e){return e.getDay()}(Date.parseKairos(t+" "+s.zero));return i[r]=s.millisToMinute(a),e.setItem(n,JSON.stringify(i)),!0},get:a,subscribe:function(e){o.push(e)},activate:function(){r(!0)},deactivate:function(){r(!1)},computeWeeklyGoalMinutes:function(){var e=0;return Object.keys(d.DAILY_GOAL_MINUTES).forEach(function(t){var n=a(t);e+=n}),e}});t.module.dailygoal=c}(localStorage,window.Queiroz),function(e,t){var n,i,o,a,r=(n="dayOff",i=[],o=function(e){return e.getDate().padStart(2)+"/"+e.getFixedMonth().padStart(2)},a=function(e){return i.contains(o(e))},e.hasItem("dayoff")?(i=JSON.parse(e.getItem("dayoff")),e.setItem(n,JSON.stringify(i)),e.removeItem("dayoff")):e.hasItem(n)&&(i=JSON.parse(e.getItem(n))),{check:function(e){var t=[];e.days.forEach(function(e){0==a(e.date)&&t.push(e)}),e.days=t},checkAndMark:function(e){e.days.forEach(function(e){e.off=a(e.date)})},is:a,add:function(t){a(t)||(i.push(o(t)),e.setItem(n,JSON.stringify(i)))},remove:function(t){if(0!=a(t)){var r=i.indexOf(o(t));i.splice(r,1),e.setItem(n,JSON.stringify(i))}}});t.module.dayoff=r}(localStorage,window.Queiroz),function(e){var t,n,i,o,a,r=e.module,l=r.settings,d=r.time,s=r.dailygoal,c=r.dayoff,u=(t=d.minuteToMillis(l.MAX_CONSECUTIVE_MINUTES),n=d.minuteToMillis(l.MAX_DAILY_MINUTES),i=function(e){return d.minuteToMillis(s.get(e))},o=function(e){var t=0,n=[];e.forEach(function(e){c.is(e.date)&&(t+=i(e.date.getDay())),n.push(e.date.getDay())});let o=e.length&&e.last().date.isCurrentWeek(l.INITIAL_WEEKDAY)?0===Date.now().getDay()?7:Date.now().getDay():7;for(let e=1;e<=o;e++){let o=7===e?0:e;0==n.contains(o)&&(t+=i(o))}return d.minuteToMillis(s.computeWeeklyGoalMinutes())-t},a=function(e){var t=["leave","balancedLeave","leaveMaxConcec","leaveMaxDaily"];return t.sort(function(t,n){return null==e[t]?-1:null==e[n]?1:e[t].getMillis()-e[n].getMillis()}),t},{parse:function(e){e.days.forEach(function(e){e.periods.forEach(function(t){t.in&&(t.in=Date.parseKairos(e.date+" "+t.in)),t.out&&(t.out=Date.parseKairos(e.date+" "+t.out))}),e.date=Date.parseKairos(e.date+" "+d.zero)}),e.date=Date.now()},compute:function(e){!function(e){e.days.forEach(function(e){e.periods.forEach(function(e){if(e.shift=!1,e.in&&e.out)if(d.before(e.in,e.out))e.shift=d.diff(e.in,e.out);else{var t=new Date(e.in.getTime());t.setHours(23,59,59,999);var n=new Date(e.out.getTime());n.setHours(0,0,0,0);var i=d.diff(e.in,t),o=d.diff(n,e.out);e.shift=i+o+1e3}else e.in&&(e.shift=d.diff(e.in,Date.now()))})})}(e),function(e){e.worked=0,e.reallyWorked=0,e.days.forEach(function(t){t.worked=0,t.reallyWorked=0,t.timeOn&&(t.worked+=t.timeOn),t.periods.forEach(function(e){e.in&&0==e.out&&t.date.isToday()&&(t.reallyWorked+=e.shift),e.in&&e.out&&(t.worked+=e.shift)}),t.reallyWorked+=t.worked,e.worked+=t.worked,e.reallyWorked+=t.reallyWorked})}(e),function(e){var t=0;e.days.forEach(function(e){if(e.balance=0,e.periods.length){var n=l.isWorkDay(e.date);n&&(e.balance=0-i(e.date.getDay())),e.balance+=e.worked,0!=e.date.isToday()&&0!=n||(t+=e.balance),e.totalBalance=t}}),e.weeklyBalance=-1*o(e.days)+e.worked}(e),function(e){e.days.forEach(function(o){var r=o.periods;if(o.date.isToday()&&r.length){var l=r.last();if(0==l.out){o.worked<=d.hourToMillis(4)&&(l.leaveMaxConcec=new Date(l.in.getMillis()+t));var s=i(o.date.getDay()),c=s-t,u=-1*e.weeklyBalance<t;if(o.worked>=c&&o.worked<s||u){let e=d.diff(o.worked,s);l.leave=new Date(l.in.getMillis()+e),l.balancedLeave=new Date(l.leave.getMillis()-o.totalBalance)}if(o.worked>d.hourToMillis(4)){let e=d.diff(o.worked,n);l.leaveMaxDaily=new Date(l.in.getMillis()+e)}l.orderBy=a(l)}}})}(e)},toHuman:function(e){e.days.forEach(function(e){e.periods.forEach(function(e){e.in&&(e.in=e.in.getTimeAsString()),e.out&&(e.out=e.out.getTimeAsString()),e.shift&&(e.shift=d.millisToHuman(e.shift)),e.leaveMaxConcec&&(e.leaveMaxConcec=e.leaveMaxConcec.getTimeAsString()),e.leave&&(e.leave=e.leave.getTimeAsString()),e.leaveMaxDaily&&(e.leaveMaxDaily=e.leaveMaxDaily.getTimeAsString()),e.balancedLeave&&(e.balancedLeave=e.balancedLeave.getTimeAsString())}),e.goal=d.millisToHuman(i(e.date.getDay())),e.worked=d.millisToHuman(e.worked),e.reallyWorked=d.millisToHuman(e.reallyWorked),e.balance=d.millisToHumanWithSign(e.balance),e.totalBalance=d.millisToHumanWithSign(e.totalBalance),e.timeOn&&(e.timeOn=d.millisToHuman(e.timeOn))}),e.maxConsecutive=d.millisToHuman(t),e.maxDaily=d.millisToHuman(n),e.weeklyGoal=d.millisToHuman(o(e.days)),e.worked=d.millisToHuman(e.worked),e.reallyWorked=d.millisToHuman(e.reallyWorked),e.weeklyBalance=d.millisToHumanWithSign(e.weeklyBalance)},parsePeriodRange:function(e){let t=e.split("a"),n=[];return t.forEach(e=>{let t=e.trim().split("/"),i=parseInt(t[0]),o=parseInt(t[1])-1,a=parseInt(t[2]);n.push(new Date(a,o,i))}),{begin:n[0],end:n[1]}}});e.module.viewtime=u}(window.Queiroz),function(e,t,n){var i,o,a,r,l,d,s,c,u,p,f,m,h,g,y,v,b=n.module,x=b.settings,z=b.kairos,T=b.strings,k=b.style,q=(i="div",o="a",a="p",r="span",l="style",d="strong",s="table",c="thead",u="tbody",p="th",f="tr",m="td",h="input",g=function(e,n,i){var o=t.createElement(e);return n&&(o.className=n),i&&(o.innerHTML=i),o},y=function(e){var t=g(i,"qz-box qz-box-muted qz-text-center"),n=g(i,"qz-help-text",T(e.helpText)),o=g(d,"qz-box-content "+e.contentClass,e.humanTime);return t.appendChild(n),t.appendChild(o),e.inlineText&&(t.className+=" qz-box-inline"),t},v=function(e){e.init();var t=g(i,"qz-box qz-box-muted qz-text-center js-has-edit-box"),n=g(i,"qz-help-text",T(e.helpText)),o=g(i),a=g(h,"qz-input-time js-input-time"),l=g(r,"qz-fa qz-fa-sw fa fa-times"),d=g(r,"qz-fa qz-fa-se qz-text-green fa fa-floppy-o");return a.setAttribute("maxlength",5),a.setAttribute("placeholder","00:00"),a.onkeyup=function(){var e=this.value;this.classList.remove("qz-input-error"),0==/^[0-9:]*$/.test(e)&&this.classList.add("qz-input-error"),3==e.length&&/^\d{3}$/.test(e)&&(this.value=e[0]+e[1]+":"+e[2])},l.onclick=function(){e.finally(),this.parentElement.remove()},d.onclick=function(){var t=this.parentElement.parentElement,n=t.querySelector(".js-input-time"),i=n.value;if(0!=/\d{2}:\d{2}/.test(i)){e.finally();var o=t.querySelector("[id^=hiddenDiaApont]").value;e.save(o,i)}else n.classList.add("qz-input-error")},t.appendChild(n),o.appendChild(a),t.appendChild(o),t.appendChild(l),t.appendChild(d),t},{style:function(){return g(l,"qz-style",k.CSS)},header:function(){return g(i,"qz-box-head")},periodHeader:function(){return g(i,"qz-box-period")},buildToggleForDayOff:function(e){return g(r,"fa fa-toggle-"+e+" qz-toggle")},buildDayOptions:function(t,o){var l=g(i,"qz-dropdown qz-column-menu"),d=g(r,"fa fa-bars qz-text-teal"),s=g(i,"qz-dropdown-content"),c=g(a,"qz-text-left",":: Abonar Falta"),u=g(a,"qz-text-left",":: Mock Time");return c.onclick=function(){var i=this.parentElement.parentElement.parentElement.parentElement;i.querySelector(".js-has-edit-box")||(e.scrollTo(0,300),setTimeout(function(){var e={helpText:"timeOn",init:t.activate,finally:t.deactivate,save:function(e,i){t.add(e,i)&&n.reload()}};i.appendChild(v(e))},250))},u.onclick=function(){var t=this.parentElement.parentElement.parentElement.parentElement;t.querySelector(".js-has-edit-box")||(e.scrollTo(0,300),setTimeout(function(){var e={helpText:"mockTime",init:o.activate,finally:o.deactivate,save:function(e,t){o.add(e,t)&&n.reload()}};t.appendChild(v(e))},250))},l.appendChild(d),l.appendChild(s),s.appendChild(c),s.appendChild(u),l},buildIconRefreshModal:function(){return g(r,"qz-fa qz-fa-sw2 fa fa-refresh qz-cursor-pointer")},buildIconOpenModal:function(){return g(r,"qz-fa qz-fa-se2 fa fa-external-link qz-cursor-pointer")},headerWeeklyGoal:function(e){return y({helpText:"weeklyGoal",humanTime:e,contentClass:"qz-text-black",inlineText:!0})},headerLaborTime:function(e){return y({helpText:"labor",humanTime:e,contentClass:"qz-text-green",inlineText:!0})},headerBalanceTime:function(e){return y({helpText:e.contains("+")?"extra":"pending",humanTime:e,contentClass:"qz-text-"+(e.contains("+")?"green":"primary"),inlineText:!0})},headerNoticeStatus:function(e){var t=y({helpText:"notice",humanTime:e.isGranted()?"ON":"OFF",contentClass:"qz-text-"+(e.isGranted()?"green":"primary"),inlineText:!0});return t.onclick=function(){0==e.isGranted()&&e.requestPermission()},t},headerMonthLaborTime:function(){return y({helpText:"loadingMonth",humanTime:"",contentClass:"fa fa-spinner fa-spin",inlineText:!0})},balanceTimePerDay:function(e,t){return y({helpText:(t?"totalB":"b")+"alance",humanTime:e,contentClass:"qz-text-"+(t?"purple":"teal")})},dailyGoal:function(t,i){var o=y({helpText:"dailyGoal",humanTime:t,contentClass:"qz-text-black qz-box-with-fa-se"}),a=g(r,"qz-fa qz-fa-se3 fa fa-edit");return a.onclick=function(){var t=this.parentElement.parentElement;t.querySelector(".js-has-edit-box")||(e.scrollTo(0,300),setTimeout(function(){var e={helpText:"dailyGoal",init:i.activate,finally:i.deactivate,save:function(e,t){i.add(e,t)&&n.reload()}};t.appendChild(v(e))},250))},o.appendChild(a),o},laborTimePerDay:function(e){return y({helpText:"labor",humanTime:e,contentClass:"qz-text-green"})},laborTimePerShift:function(e,t,n){var i=y({helpText:t?"shift":"working",humanTime:e,contentClass:t?"":"qz-text-golden"});if(t){var o=i.querySelector(".qz-help-text"),a=o.textContent.replace("_n_",n);o.textContent=a}return i},todayTimeToLeave:function(e,t,n){var i=y({helpText:"exit"+(t?"+":""),humanTime:e,contentClass:"qz-text-primary"});if(0==t){var o=i.querySelector(".qz-help-text"),a=o.textContent.replace("_s_",n);o.textContent=a}return i},buildTimeOnBox:function(e,t){var i=y({helpText:"timeOn",humanTime:t,contentClass:"qz-text-orange"}),o=g(r,"qz-fa qz-fa-sw fa fa-times");return o.onclick=function(){var t=this.parentElement.parentElement.querySelector("[id^=hiddenDiaApont]").value;e.remove(t),n.reload()},i.appendChild(o),i},buildMockTime:function(e){var t=g(i,"FilledSlot qz-text-primary"),n=g(r,"Time"+e.direction,e.mockTime),o=g(r,"qz-fa qz-fa-se fa fa-times");return t.data("data-key",e.key),t.data("data-mocktime",e.mockTime),o.onclick=function(){var t=this.parentElement,n=t.data("data-key"),i=t.data("data-mocktime");e.remove(n,i),e.finally()},t.appendChild(n),t.appendChild(o),t},buildHeaderMenuBox:function(){var e=g(i,"qz-box qz-box-icon qz-box-inline qz-dropdown",T("menuIcon")),t=g(i,"qz-dropdown-content qz-menu"),n=g(a,"qz-text-left",T("menuItemHideLastWeekDays"));n.onclick=function(){var e=x.hideLastWeekDays();x.hideLastWeekDays(!e),z.reload()};var l=x.hideLastWeekDays()?"on":"off",d=g(r,"fa fa-toggle-"+l+" qz-menu-item-icon-rg");n.appendChild(d),t.appendChild(n);var s=g(a,"qz-text-left"),c=g(o,"qz-menu-item-anchor");c.href="https://github.com/viniciusknob/queiroz.js/blob/master/SUPPORT.md",c.target="_blank";var u=g(r,"fa fa-heart qz-menu-item-icon"),p=g(r,"",T("menuItemSupport"));s.appendChild(u),s.appendChild(p),c.appendChild(s),t.appendChild(c);var f=g(a,"qz-text-left"),m=g(o,"qz-menu-item-anchor");m.href="https://github.com/viniciusknob/queiroz.js",m.target="_blank";var h=g(r,"",T("menuItemAbout"));return f.appendChild(h),m.appendChild(f),t.appendChild(m),e.appendChild(t),e},buildReportTable:function(e){var t=g(s,"qz-table"),n=g(c),i=g(f),o=g(p),a=g(p);o.textContent="Data",a.textContent="Realizado",i.appendChild(o),i.appendChild(a),n.appendChild(i),t.appendChild(n);var r=g(u),l={weekday:"short",day:"2-digit",month:"short",year:"numeric"};e.weeks.forEach(e=>{e.days.forEach(e=>{var t=g(f);0===e.periods.length&&t.classList.add("qz-text-grey"),e.off&&t.classList.add("qz-text-line-through");var n=g(m),i=g(m);n.textContent=e.date.toLocaleDateString("pt-BR",l).replace(/\./g,""),i.textContent=e.worked,t.appendChild(n),t.appendChild(i),r.appendChild(t)});var t=g(f,"qz-text-bold"),n=g(m),i=g(m);n.textContent="Realizado na Semana",i.textContent=e.worked,t.appendChild(n),t.appendChild(i),r.appendChild(t),t=g(f,"qz-text-bold"),n=g(m),i=g(m),n.textContent="Saldo da Semana",i.textContent=e.weeklyBalance,t.appendChild(n),t.appendChild(i),r.appendChild(t),t=g(f),n=g(m),i=g(m),n.textContent="",i.textContent="-",t.appendChild(n),t.appendChild(i),r.appendChild(t)});var d=g(f,"qz-text-bold"),h=g(m),y=g(m);return h.textContent="Realizado no Mês",y.textContent=e.worked,d.appendChild(h),d.appendChild(y),r.appendChild(d),t.appendChild(r),t}});n.module.snippet=q}(window,document,window.Queiroz),function(e,t){var n,i,o,a,r,l,d=t.module,s=d.snippet,c=d.time,u=(n="timeOn",i={},o=[],a=function(e){return e.getDate().padStart(2)+"/"+e.getFixedMonth().padStart(2)},r=function(e){return!!i[a(e)]},l=function(e){o.forEach(function(t){t.notify(u,{isActive:e})})},e.hasItem(n)&&(i=JSON.parse(e.getItem(n))),{buildBox:function(e){return s.buildTimeOnBox(this,e)},check:function(e){e.days.forEach(function(e){var t;e.timeOn=!1,r(e.date)&&(e.timeOn=(t=e.date,i[a(t)]))})},add:function(t,o){var l=c.humanToMillis(o);return 0!=!!l&&(function(t,o){var l=a(t);0==r(t)&&(i[l]=0),i[l]+=o,e.setItem(n,JSON.stringify(i))}(Date.parseKairos(t+" "+c.zero),l),!0)},remove:function(t){!function(t){0!=r(t)&&(delete i[a(t)],e.setItem(n,JSON.stringify(i)))}(Date.parseKairos(t+" "+c.zero))},subscribe:function(e){o.push(e)},activate:function(){l(!0)},deactivate:function(){l(!1)}});t.module.timeon=u}(localStorage,window.Queiroz),function(e,t){var n,i,o,a,r,l=t.module,d=l.settings,s=l.time,c=l.strings,u=l.dailygoal,p=(n=d.NOTICE_RANGE_MINUTES,i=!0,o=[],a=function(t,n){o.push(new e(t,{body:n,icon:d.NOTICE_ICON})),i=!0},r=function(e,t){return e.replace("_min_",t)},{closeFiredOnUnload:function(){o.forEach(function(e){e.close()})},check:function(e){i=!1;var o=t.name+" - "+e.date.getTimeAsString();!function(e,t){i||n.forEach(function(n){t.days.forEach(function(t){t.date.isToday()&&t.periods.forEach(function(t){0==t.out&&d.MAX_CONSECUTIVE_MINUTES-n==s.millisToMinute(t.shift)&&a(e,r(c("noticeMaxConsecutive"),n))})})})}(o,e),function(e,t){i||n.forEach(function(n){t.days.forEach(function(t){t.date.isToday()&&t.periods.forEach(function(i){0==i.out&&d.MAX_DAILY_MINUTES-n==s.millisToMinute(t.reallyWorked)&&a(e,r(c("noticeMaxDaily"),n))})})})}(o,e),function(e,t){i||n.forEach(function(n){t.days.forEach(function(t){t.date.isToday()&&t.periods.forEach(function(t){0==t.out&&t.balancedLeave&&s.millisToMinute(t.balancedLeave.getMillis())-s.millisToMinute(Date.now().getMillis())==n&&a(e,r(c("noticeBalancedLeave"),n))})})})}(o,e),function(e,t){i||n.forEach(function(n){u.computeWeeklyGoalMinutes()-n==s.millisToMinute(t.reallyWorked)&&a(e,r(c("noticeWeeklyGoal"),n))})}(o,e),function(e,t){i||n.forEach(function(n){t.days.forEach(function(t){t.date.isToday()&&t.periods.forEach(function(i){0==i.out&&d.DAILY_GOAL_MINUTES[t.date.getDay()]-n==s.millisToMinute(t.reallyWorked)&&a(e,r(c("noticeDailyGoal"),n))})})})}(o,e)},isGranted:function(){return e&&"granted"==e.permission},requestPermission:function(){e&&e.requestPermission().then(t.reload)}});t.module.notice=p}(Notification,window.Queiroz),function(e,t){var n,i,o,a,r,l,d,s,c,u,p,f,m,h,g,y,v=t.module,b=v.settings,x=v.snippet,z=v.timeon,T=v.dailygoal,k=v.notice,q=(n="head",i="body",o=".DiaApontamento",a=".FilledSlot span",r="[id^=hiddenDiaApont]",l="#SemanaApontamentos div",d="#PeriodoRange",s="#filterContent div",c=".weekDayTextSize",u=".TimeIN,.TimeINVisualizacao",p="footer .LabelEmpresa",f=".HfIsFolga",m="*[class*=qz-]",h=function(t,n){return(n||e).querySelector(t)},g=function(t,n){return(n||e).querySelectorAll(t)},y=function(t,n,i){setTimeout(function(){var o=h(t);if("string"==typeof n){var a=e.createElement("DIV");a.innerHTML=n,n=a.firstChild}o.appendChild(n),i&&i()},25)},{read:function(e){var t={},n=[];return g(o,e).forEach(function(e){var t={date:h(r,e).value,periods:[]};g(a,e).forEach(function(e){var n=e.classList.value,i=e.textContent,o=t.periods;if(/TimeIN/.test(n))o.push({in:i,out:!1});else if(/TimeOUT/.test(n)){var a=o.last();a&&0==a.out?a.out=i:o.push({in:!1,out:i})}}),n.push(t)}),t.days=n,t},hideLastWeekDays:function(e){g(o).forEach(function(t){var n=!0;e.days.forEach(function(e){var i=h(r,t).value;e.date.getDateAsKairos()==i&&(n=!1)}),n&&t.remove()})},render:function(e){var t=g(o);e.days.forEach(function(n){t.forEach(function(t){var i=h(r,t).value;if(n.date.getDateAsKairos()==i&&(n.timeOn&&t.appendChild(z.buildBox(n.timeOn)),n.periods.length)){var o=b.isWorkDay(n.date);n.periods.forEach(function(e,i){(e.out||0==e.out&&n.date.isToday())&&t.appendChild(x.laborTimePerShift(e.shift,!!e.out,i+1))}),o&&t.appendChild(x.dailyGoal(n.goal,T)),t.appendChild(x.laborTimePerDay(n.worked,z)),o&&t.appendChild(x.balanceTimePerDay(n.balance,!1)),0!=n.date.isToday()&&0!=o||t.appendChild(x.balanceTimePerDay(n.totalBalance,!0)),n.periods.forEach(function(i){0==i.out&&n.date.isToday()&&i.orderBy.forEach(function(a){var r=i[a];0!=!!r&&(o&&("leave"==a&&t.appendChild(x.todayTimeToLeave(r,!1,n.goal)),"balancedLeave"==a&&t.appendChild(x.todayTimeToLeave(r,!0))),"leaveMaxConcec"==a&&t.appendChild(x.todayTimeToLeave(r,!1,e.maxConsecutive)),"leaveMaxDaily"==a&&t.appendChild(x.todayTimeToLeave(r,!1,e.maxDaily)))})})}})});var n=x.header();n.appendChild(x.headerWeeklyGoal(e.weeklyGoal)),n.appendChild(x.headerLaborTime(e.worked)),n.appendChild(x.headerBalanceTime(e.weeklyBalance)),n.appendChild(x.headerNoticeStatus(k)),n.appendChild(x.buildHeaderMenuBox()),q.appendToHeader(n)},isLoaded:function(){return h(o)},isTargetOnVacation:function(e){var t=h(f,e).parentElement;if(0==!!t)return!1;var n=t.firstElementChild;if(0==!!n||"DIV"!=n.tagName)return!1;var i=n.firstElementChild;return 0!=!!i&&"SPAN"==i.tagName&&"Férias"==i.innerText},getAllColumnDay:function(){return g(o)},getAllCheckpoint:function(e){return g(a,e)},getDateFromTargetAsString:function(e){return h(r,e).value},getAllTimeIn:function(e){return g(u,e)},getAllQueirozElements:function(){return g(m)},getHeadersDay:function(e){return g(c,e)},getPeriodRange:function(){return h(d).textContent},appendToHead:function(e){y(n,e)},appendToBody:function(e,t){y(i,e,t)},appendToPeriodHeader:function(e,t){y(s,e,t)},appendToHeader:function(e){y(l,e)},appendToFooter:function(e){var t=h(p).textContent;t&&0==t.contains(e)&&(h(p).textContent+=" | "+e)},appendToggle:function(e,t){h(f,e).parentElement.appendChild(t)},getDisplayedDays:function(){var e=[];return g(o).forEach(function(t){e.push(h(r,t).value)}),e},injectTimes:function(e){g(o).forEach(function(n){var i=h(r,n).value;if(e.has(i)){var o=g(a,n).length;e.get(i).forEach(function(a,r){var l={key:i,mockTime:a,direction:(o+(r+1))%2==0?"OUT":"IN",remove:e.remove,finally:function(){t.reload()}};n.appendChild(x.buildMockTime(l))})}})}});t.module.view=q}(document,window.Queiroz),function(e,t){var n,i,o,a=t.module.view,r=(n=function(){return document.querySelector(".qz-modal")},i=function(){return document.querySelector(".qz-modal-close")},o=function(e){let t=n();t.classList.remove("js-show"),t.classList.add("js-hide"),e&&e()},{init:async function(){a.appendToBody('<div class="qz-modal js-hide"><div class="qz-modal-dialog"><div class="qz-modal-content"><div class="qz-modal-header"><span class="qz-modal-title"></span> <button class="qz-modal-close"><span class="fa fa-times"></span></button></div><div class="qz-modal-body qz-text-center"></div><div class="qz-modal-footer"><span>Queiroz.js tem ajudado você? <i class="fa fa-heart"></i> <a target="_blank" href="https://github.com/viniciusknob/queiroz.js/blob/master/SUPPORT.md">Clique aqui</a> e apoie este projeto.</span></div></div></div></div>',function(){i().onclick=o})},open:function(e,t,a){let r=n();var l;r.classList.remove("js-hide"),r.classList.add("js-show"),e&&(l=e,document.querySelector(".qz-modal .qz-modal-title").textContent=l),a&&(i().onclick=(()=>o(a))),t&&t()}});t.module.modal=r}(window,window.Queiroz),function(e,t){var n=t.module,i=n.settings,o=n.strings,a=n.kairos,r=n.snippet,l=n.time,d=n.dayoff,s=n.timeon,c=n.view,u=n.viewtime,p=n.modal,f=function(){const n="periods";var m={},h=[],g=function(e){h.forEach(function(t){t.notify(f,{isActive:e})})},y=function(){g(!0)},v=function(){g(!1)},b=function(e){return e.getFixedMonth().padStart(2)+"_"+e.getFullYear()},x=function(e=0,t=[]){return function(e){let t=c.getPeriodRange(),n=u.parsePeriodRange(t),i=n.end.getMonth()-n.begin.getMonth()+1,a=parseInt(e/(30*i)*100);a=a>100?100:a,document.querySelector(".qz-box-period > .qz-box > .qz-help-text").textContent=o("loadingMonth")+" "+a+"%"}(t.length),a.loadAppointments(e).then(e=>c.read(e)).then(e=>(t=t.concat(e.days),0===e.days.length)).then(n=>n?t:x(e-1,t))},z=function(){let t=[],i=[],o=c.getPeriodRange(),a=u.parsePeriodRange(o),r=new Date(a.begin),d=new Date(a.end);for(t.push(a.begin);r.getFixedMonth()!=d.getFixedMonth();)t.push(new Date(r.addMonths(1)));return t.forEach(e=>{(function(e){let t=m[b(e)];return!!t&&Date.now().toDDmmYYYY("/")==t.lastModified})(e)&&(i=i.concat(function(e){return m[b(e)].days}(e)))}),i.isEmpty()?x().then(t=>(function(t){let i=[];t.forEach(e=>{let t="_"+e.date.split("_")[1]+"_";0==i.contains(t)&&i.push(t)});let o=[];return i.forEach(e=>{o.push(t.filter(t=>t.date.contains(e)))}),o.forEach(e=>{let t=Date.parseKairos(e.last().date+" "+l.zero),n=b(t),i=Date.now().toDDmmYYYY("/");m[n]={lastModified:i,days:e}}),e.setItem(n,JSON.stringify(m)),t})(t)).then(z):new Promise(e=>e(i))},T=function(i){document.querySelectorAll(".qz-box-period > .qz-box").forEach((o,a)=>{let l=i.months[a],d=l.weeks.last().days.last();0==!!d&&l.weeks.forEach(e=>{e.days.forEach(e=>{d=e})});let s="Efetuado em "+d.date.toLocaleDateString("pt-BR",{month:"long"}).capitalize(),c=r.buildIconRefreshModal();c.onclick=(()=>{m={},e.removeItem(n),t.reload()}),o.appendChild(c);let u=r.buildIconOpenModal();u.onclick=(()=>{y();p.open(s,()=>{let e=document.querySelector(".qz-modal .qz-modal-body");e.innerHTML="",e.appendChild(r.buildReportTable(l))},()=>{v()})}),o.appendChild(u),o.querySelector(".qz-help-text").textContent=s;let f=o.querySelector(".qz-box-content");f.innerHTML=l.worked,f.classList.remove("fa","fa-spinner","fa-spin")})};return{init:async function(){y(),m={},e.hasItem(n)&&(m=JSON.parse(e.getItem(n)));var t=r.periodHeader();t.appendChild(r.headerMonthLaborTime()),c.appendToPeriodHeader(t,()=>{z().then(e=>(function(e){let t={days:e};return u.parse(t),t.days.sort((e,t)=>e.date.getMillis()-t.date.getMillis()),t})(e)).then(e=>(function(e){let t=[],n=e.days,i=new Date(n[0].date),o=new Date(n.last().date),a=e=>e.date.getFixedMonth()==i.getFixedMonth();for(t.push({days:n.filter(a)});i.getFixedMonth()!=o.getFixedMonth();)i.addMonths(1),t.push({days:n.filter(a)});return e.months=t,e})(e)).then(e=>(function(e){return e.months.forEach(e=>{let t={days:[]},n=[];e.days.forEach(e=>{e.date.getDay()===i.INITIAL_WEEKDAY&&t.days.length&&(n.push(t),t={days:[]}),t.days.push(e)}),n.push(t),e.weeks=n,delete e.days}),e})(e)).then(e=>(function(e){return e.months.forEach(e=>{var t=0;e.weeks.forEach(e=>{d.checkAndMark(e),s.check(e),u.compute(e),t+=e.worked,u.toHuman(e)}),e.worked=l.millisToHuman(t)}),e})(e)).then(e=>(function(e){let t=document.querySelector(".qz-box-period");return e.months.forEach((e,n)=>{0!==n&&t.appendChild(r.headerMonthLaborTime())}),e})(e)).then(e=>T(e)).then(()=>v())})},subscribe:function(e){h.push(e)}}}();t.module.report=f}(sessionStorage,window.Queiroz),function(e,t){var n,i,o,a,r,l,d,s,c=t.module,u=c.time,p=c.view,f=(n="mockTime",i={},o=[],a=function(){e.setItem(n,JSON.stringify(i))},r=function(e){return e.getDate().padStart(2)+"/"+e.getFixedMonth().padStart(2)},l=function(e){return"string"==typeof e&&(e=Date.parseKairos(e+" "+u.zero)),i[r(e)]},d=function(e,t){if(0==!!e)return!1;"string"==typeof e&&(e=Date.parseKairos(e+" "+u.zero));var n=i[r(e)];if(0==!!n)return!1;if(e&&t){var o=!1;return l(e).forEach(function(e){t==e&&(o=!0)}),o}return!!n},s=function(e){o.forEach(function(t){t.notify(f,{isActive:e})})},e.hasItem(n)&&(i=JSON.parse(e.getItem(n))),{injectIfExists:function(){p.injectTimes(f)},has:d,get:l,add:function(e,t){if(0==!!u.humanToMillis(t))return!1;var n=Date.parseKairos(e+" "+u.zero),o=r(n);if(0==d(n))i[o]=[];else if(d(n,t))return!0;return i[o].push(t),a(),!0},remove:function(e,t){if("string"==typeof e&&(e=Date.parseKairos(e+" "+u.zero)),0!=d(e,t)){var n=r(e);if(1==l(e).length)delete i[n];else{var o=[];l(e).forEach(function(e){t!=e&&o.push(e)}),i[n]=o}a()}},subscribe:function(e){o.push(e)},activate:function(){s(!0)},deactivate:function(){s(!1)}});t.module.mocktime=f}(localStorage,window.Queiroz),function(e,t){var n=t.module,i=n.settings,o=n.time,a=n.viewtime,r=n.keepalive,l=n.mocktime,d=n.dailygoal,s=n.snippet,c=n.view,u=n.modal,p=n.report,f=n.dayoff,m=n.timeon,h=n.notice,g=function(){var e=!1;c.getAllColumnDay().forEach(function(n){var a=Date.parseKairos(c.getDateFromTargetAsString(n)+" "+o.zero);if(a.getDay()===i.INITIAL_WEEKDAY&&(e=!0),e&&i.isWorkDay(a)){c.isTargetOnVacation(n)&&f.add(a);var r=function(e){var n=f.is(e)?"off":"on",i=s.buildToggleForDayOff(n);return i.onclick=function(){var n=e;f.is(n)?f.remove(n):f.add(n),t.reload()},i}(a);c.appendToggle(n,r)}})},y=function(e){g(),c.getAllColumnDay().forEach(function(t){var n=c.getHeadersDay(t);n[0].style.display="none";var i=n[1],a=Date.parseKairos(c.getDateFromTargetAsString(t)+" "+o.zero),r=a.toLocaleDateString("pt-BR",{weekday:"short",day:"2-digit",month:"2-digit"});i.innerHTML=r,0==f.is(a)&&function(e,t){var n=c.getDateFromTargetAsString(t),i=!1;return e.days.forEach(function(e){e.date.getDateAsKairos()==n&&(i=!0)}),i}(e,t)&&(i.insertBefore(s.buildDayOptions(m,l),i.firstChild),i.querySelector(".qz-dropdown").onmouseover=function(){i.querySelector(".qz-dropdown-content").style.minWidth=i.offsetWidth+"px"})})},v=function(){c.appendToHead(s.style()),l.injectIfExists();var e=c.read();a.parse(e),function(e){var t=0,n=e.days;n.forEach(function(e,n){e.date.getDay()===i.INITIAL_WEEKDAY&&(t=n)}),e.days=n.slice(t)}(e),i.hideLastWeekDays()&&c.hideLastWeekDays(e),f.check(e),m.check(e),y(e),a.compute(e),h.check(e),a.toHuman(e),c.render(e),r.init(),u.init(),m.subscribe(r),l.subscribe(r),d.subscribe(r),p.subscribe(r),p.init()};t.bless=function(){var t;return c.isLoaded()?v():t=setInterval(function(){c.isLoaded()&&(clearInterval(t),v())},i.USERSCRIPT_DELAY),e.addEventListener("unload",h.closeFiredOnUnload),c.appendToFooter(this.description),this.description},t.reload=function(){c.getAllQueirozElements().forEach(function(e){e.remove()}),v()}}(window,window.Queiroz),window.Queiroz.bless();